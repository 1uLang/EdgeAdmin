<!-- 漏洞风险 -->
{$layout}
{$template "/datepicker"}
{$var "header"}
{$end}

<div style="height: 40px;margin-top: 10px;display: flex;flex-direction: row;align-items: center;">
    <span style="font-size: 14px;margin-right: 5px;height: 32px;line-height: 32px;">主机：</span>
    <select class="ui dropdown auto-width" v-model="ipSelectIndex">
        <option value="">请选择</option>
        <option v-for="item in ipData" :value="item.id">{{item.ip}}</option>
    </select>
    <span style="font-size: 14px;margin-right: 5px;margin-left: 30px;height: 32px;line-height: 32px;">风险等级：</span>
    <select class="ui dropdown auto-width" v-model="dangerSelectIndex">
        <option value="">请选择</option>
        <option v-for="item in dangerData" :value="item.id">{{item.name}}</option>
    </select>
</div>
<p class="comment" v-if="tableData.length == 0">暂时没有漏洞风险。</p>
<div style="width: 100%;height: 600px;overflow-x: auto; overflow-y: auto;margin-top: 10px" v-else>
    <table class="ui table selectable celled multi-table" border="1" style="border-collapse: collapse;">
        <thead>
        <tr align="center">
            <th class='table-head-bg' style="min-width: 110px;">主机IP</th>
            <th class='table-head-bg' style="min-width: 150px;">主机名称</th>
            <th class='table-head-bg' style="min-width: 325px;">漏洞名称</th>
            <th class='table-head-bg' style="min-width: 120px;">风险等级</th>
            <th class='table-head-bg' style="min-width: 130px;">CVE号</th>
            <th class='table-head-bg' style="min-width: 150px;">受影响的软件包</th>
            <th class='table-head-bg' style="min-width: 150px;">发现时间</th>
        </tr>
        </thead>
        <tbody id='tableBody'>
        <tr align="center" style="height: 40px;" v-for="item in tableData">
            <td>{{item.hostIP}}</td>
            <td>{{item.hostName}}</td>
            <td>{{item.badName}}</td>
            <td>
                <span :style="{'color':item.dangerLevel==4 ? '#d9001b':item.dangerLevel==3?'#f64b00':item.dangerLevel==2?'#f59a23':'#169bd5'}">
                    {{getDangerLevel(item.dangerLevel)}}
                </span>
                
            </td>
            <td>{{item.CVEStyle}}</td>
            <td>{{item.effectPackage}}</td>
            <td>{{onChangeTimeFormat(item.findTime)}}</td>
        </tr>
        </tbody>
    </table>
</div>
<!-- <div class="page" v-html="page"></div> -->

